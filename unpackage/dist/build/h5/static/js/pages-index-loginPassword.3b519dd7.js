(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-loginPassword"],{"0088":function(e,t,o){"use strict";o("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"u-image",props:{src:{type:String,default:""},mode:{type:String,default:"aspectFill"},width:{type:[String,Number],default:"100%"},height:{type:[String,Number],default:"auto"},shape:{type:String,default:"square"},borderRadius:{type:[String,Number],default:0},lazyLoad:{type:Boolean,default:!0},showMenuByLongpress:{type:Boolean,default:!0},loadingIcon:{type:String,default:"photo"},errorIcon:{type:String,default:"error-circle"},showLoading:{type:Boolean,default:!0},showError:{type:Boolean,default:!0},fade:{type:Boolean,default:!0},webp:{type:Boolean,default:!1},duration:{type:[String,Number],default:500},bgColor:{type:String,default:"#f3f4f6"}},data:function(){return{isError:!1,loading:!0,opacity:1,durationTime:this.duration,backgroundStyle:{}}},watch:{src:{immediate:!0,handler:function(e){e?this.isError=!1:(this.isError=!0,this.loading=!1)}}},computed:{wrapStyle:function(){var e={};return e.width=this.$u.addUnit(this.width),e.height=this.$u.addUnit(this.height),e.borderRadius="circle"==this.shape?"50%":this.$u.addUnit(this.borderRadius),e.overflow=this.borderRadius>0?"hidden":"visible",this.fade&&(e.opacity=this.opacity,e.transition="opacity ".concat(Number(this.durationTime)/1e3,"s ease-in-out")),e}},methods:{onClick:function(){this.$emit("click")},onErrorHandler:function(e){this.loading=!1,this.isError=!0,this.$emit("error",e)},onLoadHandler:function(){var e=this;if(this.loading=!1,this.isError=!1,this.$emit("load"),!this.fade)return this.removeBgColor();this.opacity=0,this.durationTime=0,setTimeout((function(){e.durationTime=e.duration,e.opacity=1,setTimeout((function(){e.removeBgColor()}),e.durationTime)}),50)},removeBgColor:function(){this.backgroundStyle={backgroundColor:"transparent"}}}};t.default=i},"0211":function(e,t,o){"use strict";o.r(t);var i=o("bb25"),r=o.n(i);for(var n in i)"default"!==n&&function(e){o.d(t,e,(function(){return i[e]}))}(n);t["default"]=r.a},"1a43":function(e,t,o){"use strict";var i;o.d(t,"b",(function(){return r})),o.d(t,"c",(function(){return n})),o.d(t,"a",(function(){return i}));var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-uni-view",{staticClass:"u-form"},[e._t("default")],2)},n=[]},"395f":function(e,t,o){"use strict";o.r(t);var i=o("9dca"),r=o("8b5e");for(var n in r)"default"!==n&&function(e){o.d(t,e,(function(){return r[e]}))}(n);o("470f");var a,s=o("f0c5"),l=Object(s["a"])(r["default"],i["b"],i["c"],!1,null,"00140dbc",null,!1,i["a"],a);t["default"]=l.exports},"3e78":function(e,t,o){"use strict";var i=o("86c8"),r=o.n(i);r.a},"470f":function(e,t,o){"use strict";var i=o("7f33"),r=o.n(i);r.a},"73ec":function(e,t,o){var i=o("9f5b");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=o("4f06").default;r("4a39df10",i,!0,{sourceMap:!1,shadowMode:!1})},"7d4f":function(e,t,o){var i=o("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */.u-image[data-v-00140dbc]{position:relative;-webkit-transition:opacity .5s ease-in-out;transition:opacity .5s ease-in-out}.u-image__image[data-v-00140dbc]{width:100%;height:100%}.u-image__loading[data-v-00140dbc], .u-image__error[data-v-00140dbc]{position:absolute;top:0;left:0;width:100%;height:100%;\r\ndisplay:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;\r\n-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;background-color:#f3f4f6;color:#909399;font-size:%?46?%}',""]),e.exports=t},"7f33":function(e,t,o){var i=o("7d4f");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=o("4f06").default;r("7ca5c69c",i,!0,{sourceMap:!1,shadowMode:!1})},"808e":function(e,t,o){"use strict";var i=o("73ec"),r=o.n(i);r.a},"83fa":function(e,t,o){"use strict";o.r(t);var i=o("1a43"),r=o("a5b2");for(var n in r)"default"!==n&&function(e){o.d(t,e,(function(){return r[e]}))}(n);o("3e78");var a,s=o("f0c5"),l=Object(s["a"])(r["default"],i["b"],i["c"],!1,null,"0807932a",null,!1,i["a"],a);t["default"]=l.exports},"86c8":function(e,t,o){var i=o("fdee");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=o("4f06").default;r("90fceb92",i,!0,{sourceMap:!1,shadowMode:!1})},"8b5e":function(e,t,o){"use strict";o.r(t);var i=o("0088"),r=o.n(i);for(var n in i)"default"!==n&&function(e){o.d(t,e,(function(){return i[e]}))}(n);t["default"]=r.a},"9dca":function(e,t,o){"use strict";o.d(t,"b",(function(){return r})),o.d(t,"c",(function(){return n})),o.d(t,"a",(function(){return i}));var i={uIcon:o("49f0").default},r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-uni-view",{staticClass:"u-image",style:[e.wrapStyle,e.backgroundStyle],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClick.apply(void 0,arguments)}}},[e.isError?e._e():o("v-uni-image",{staticClass:"u-image__image",style:{borderRadius:"circle"==e.shape?"50%":e.$u.addUnit(e.borderRadius)},attrs:{src:e.src,mode:e.mode,"lazy-load":e.lazyLoad,"show-menu-by-longpress":e.showMenuByLongpress},on:{error:function(t){arguments[0]=t=e.$handleEvent(t),e.onErrorHandler.apply(void 0,arguments)},load:function(t){arguments[0]=t=e.$handleEvent(t),e.onLoadHandler.apply(void 0,arguments)}}}),e.showLoading&&e.loading?o("v-uni-view",{staticClass:"u-image__loading",style:{borderRadius:"circle"==e.shape?"50%":e.$u.addUnit(e.borderRadius),backgroundColor:this.bgColor}},[e.$slots.loading?e._t("loading"):o("u-icon",{attrs:{name:e.loadingIcon,width:e.width,height:e.height}})],2):e._e(),e.showError&&e.isError&&!e.loading?o("v-uni-view",{staticClass:"u-image__error",style:{borderRadius:"circle"==e.shape?"50%":e.$u.addUnit(e.borderRadius)}},[e.$slots.error?e._t("error"):o("u-icon",{attrs:{name:e.errorIcon,width:e.width,height:e.height}})],2):e._e()],1)},n=[]},"9f5b":function(e,t,o){var i=o("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */uni-page-body[data-v-5e4db050]{height:100%}.contentTitle[data-v-5e4db050]{margin-top:%?100?%;width:100%;text-align:center;margin-bottom:10px;font-weight:300;font-size:30px;color:#000}',""]),e.exports=t},a5b2:function(e,t,o){"use strict";o.r(t);var i=o("ac13"),r=o.n(i);for(var n in i)"default"!==n&&function(e){o.d(t,e,(function(){return i[e]}))}(n);t["default"]=r.a},ac13:function(e,t,o){"use strict";o("c975"),o("d81d"),o("a9e3"),o("d3b7"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"u-form",props:{model:{type:Object,default:function(){return{}}},errorType:{type:Array,default:function(){return["message","toast"]}},borderBottom:{type:Boolean,default:!0},labelPosition:{type:String,default:"left"},labelWidth:{type:[String,Number],default:90},labelAlign:{type:String,default:"left"},labelStyle:{type:Object,default:function(){return{}}}},provide:function(){return{uForm:this}},data:function(){return{rules:{}}},created:function(){this.fields=[]},methods:{setRules:function(e){this.rules=e},resetFields:function(){this.fields.map((function(e){e.resetField()}))},validate:function(e){var t=this;return new Promise((function(o){var i=!0,r=0,n=[];t.fields.map((function(a){a.validation("",(function(a){a&&(i=!1,n.push(a)),++r===t.fields.length&&(o(i),-1===t.errorType.indexOf("none")&&t.errorType.indexOf("toast")>=0&&n.length&&t.$u.toast(n[0]),"function"==typeof e&&e(i))}))}))}))}}};t.default=i},bb25:function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={data:function(){var e=this;return{model:{name:"",password:"",code:"",newPassword:"",imgtext:"",img:"http://192.168.18.101:8893/rest/store/captcha"},disabledCode:!1,dateTime:(new Date).getTime(),labelPosition:"left",border:!1,toast:["toast"],rules:{name:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:function(t,o,i){return e.$u.test.mobile(o)},message:"手机号码不正确",trigger:["change","blur"]}],password:[{required:!0,message:"请输入确认密码",trigger:["change","blur"]}],newPassword:[{required:!0,message:"请输入新密码",trigger:["change","blur"]}],code:[{required:!0,message:"请输入密码",trigger:["change","blur"]}]},codeTips:"获取验证码"}},onReady:function(){this.$refs.uForm.setRules(this.rules)},methods:{back:function(){uni.navigateBack({delta:1})},submit:function(){var t=this;this.$refs.uForm.validate((function(o){o?t.$u.get("rest/store/forget",{phone:t.model.phone,password:t.model.password,repass:t.model.newPassword,smscode:t.model.code,code:_this.model.imgtext}).then((function(t){e("log",t," at pages/index/loginPassword.vue:121"),t.code})):e("log","验证失败"," at pages/index/loginPassword.vue:129")}))},getCode:function(){var t=this;e("log",t.dateTime," at pages/index/loginPassword.vue:136"),t.$u.test.mobile(t.model.name)?t.$u.get("rest/store/new/forgetSmsVerifyCode",{phone:t.model.name,code:t.model.imgtext,uid:t.dateTime}).then((function(o){if(e("log",o," at pages/index/loginPassword.vue:143"),1001==o.code){t.$refs.uToast.show({title:o.message}),t.disabledCode=!0;var i=6;e("log",i," at pages/index/loginPassword.vue:150");var r=setInterval((function(){i--,t.codeTips=i+"获取验证码",e("log",i," at pages/index/loginPassword.vue:154"),0==i&&(clearInterval(r),t.codeTips="获取验证码",t.disabledCode=!1)}),1e3)}else e("log",321," at pages/index/loginPassword.vue:162")})):this.$refs.uToast.show({title:"手机号有误！"})},imgData:function(){var e=this,t=e.$store.state.$baseUrl+"/rest/store/captcha?uid="+e.dateTime+"&t="+(new Date).getTime();e.model.img=t}}};t.default=o}).call(this,o("0de9")["log"])},bd04:function(e,t,o){"use strict";o.d(t,"b",(function(){return r})),o.d(t,"c",(function(){return n})),o.d(t,"a",(function(){return i}));var i={uToast:o("02ad").default,uniNavBar:o("dc60").default,uForm:o("83fa").default,uFormItem:o("0ea2").default,uInput:o("620e").default,uImage:o("395f").default,uButton:o("6974").default},r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-uni-view",{},[o("v-uni-view",[o("u-toast",{ref:"uToast"})],1),o("v-uni-view",{staticClass:"example-body"},[o("uni-nav-bar",{attrs:{"left-icon":"arrowleft","right-text":"","left-text":"",title:"重置密码"},on:{clickLeft:function(t){arguments[0]=t=e.$handleEvent(t),e.back.apply(void 0,arguments)},clickRight:function(t){arguments[0]=t=e.$handleEvent(t)}}})],1),o("v-uni-view",{staticClass:"contentTitle"},[o("v-uni-view",[e._v("要货通系统")]),o("v-uni-view",{staticStyle:{"font-weight":"300",color:"#999","font-size":"14px","margin-top":"20rpx"}},[e._v("找回密码")])],1),o("u-form",{ref:"uForm",staticStyle:{padding:"40rpx","margin-top":"20rpx"},attrs:{model:e.model,rules:e.rules,errorType:e.toast}},[o("u-form-item",{attrs:{"label-position":e.labelPosition,prop:"name",leftIconStyle:{color:"#888",fontSize:"32rpx"},"left-icon":"phone"}},[o("u-input",{attrs:{border:e.border,type:"input",placeholder:"请输入注册时的手机号"},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),o("u-form-item",{attrs:{"label-position":e.labelPosition,prop:"code",leftIconStyle:{color:"#888",fontSize:"32rpx"},"left-icon":"checkmark-circle"}},[o("u-input",{attrs:{border:e.border,placeholder:"图形验证码",type:"text"},model:{value:e.model.imgtext,callback:function(t){e.$set(e.model,"imgtext",t)},expression:"model.imgtext"}}),o("u-image",{staticClass:"logoimg",attrs:{width:"260rpx",height:"76rpx",src:e.model.img},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.imgData.apply(void 0,arguments)}}})],1),o("u-form-item",{attrs:{"label-position":e.labelPosition,prop:"password",leftIconStyle:{color:"#888",fontSize:"32rpx"},"left-icon":"lock-open"}},[o("u-input",{attrs:{"password-icon":!0,border:e.border,type:"password",placeholder:"请输入密码"},model:{value:e.model.password,callback:function(t){e.$set(e.model,"password",t)},expression:"model.password"}})],1),o("u-form-item",{attrs:{"label-position":e.labelPosition,prop:"newPassword",leftIconStyle:{color:"#888",fontSize:"32rpx"},"left-icon":"lock-open"}},[o("u-input",{attrs:{"password-icon":!0,border:e.border,type:"password",placeholder:"请输入确认密码"},model:{value:e.model.newPassword,callback:function(t){e.$set(e.model,"newPassword",t)},expression:"model.newPassword"}})],1),o("u-form-item",{attrs:{"label-position":e.labelPosition,prop:"code",leftIconStyle:{color:"#888",fontSize:"32rpx"},"left-icon":"checkmark-circle"}},[o("u-input",{attrs:{border:e.border,placeholder:"验证码",type:"text"},model:{value:e.model.code,callback:function(t){e.$set(e.model,"code",t)},expression:"model.code"}}),o("u-button",{attrs:{slot:"right",type:"success",size:"mini",disabled:e.disabledCode},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getCode.apply(void 0,arguments)}},slot:"right"},[e._v(e._s(e.codeTips))])],1),o("v-uni-view",{staticStyle:{"margin-top":"100rpx"}},[o("u-button",{attrs:{type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submit.apply(void 0,arguments)}}},[e._v("重置新密码")])],1)],1)],1)},n=[]},becf:function(e,t,o){"use strict";o.r(t);var i=o("bd04"),r=o("0211");for(var n in r)"default"!==n&&function(e){o.d(t,e,(function(){return r[e]}))}(n);o("808e");var a,s=o("f0c5"),l=Object(s["a"])(r["default"],i["b"],i["c"],!1,null,"5e4db050",null,!1,i["a"],a);t["default"]=l.exports},fdee:function(e,t,o){var i=o("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */',""]),e.exports=t}}]);